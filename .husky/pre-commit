#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ” Running pre-commit checks..."

# Run frontend linting
echo "ðŸ“ Linting frontend..."
cd frontend
npm run lint

# Run TypeScript type checking
echo "ðŸ”§ Type checking..."
npx tsc --noEmit

# Run backend checks if it exists
if [ -d "../backend" ]; then
  echo "ðŸ”§ Checking backend..."
  cd ../backend
  npm run lint 2>/dev/null || echo "No lint script found in backend"
  npx tsc --noEmit 2>/dev/null || echo "No TypeScript config found in backend"
fi

echo "âœ… Pre-commit checks passed!" 